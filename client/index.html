<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>Home</title>
        <link rel="stylesheet" href="styles/main.css">
    </head>
    
    <body>
        <canvas id="canvas" width="750" height="750" style="border:1px solid #000000;"></canvas>
        <br/>
        <button id="deployBot">Deploy Bot</button>
        <button id="turnBot">Turn Bot</button>
        <br/>
        <p>
            The goal of the game is to try to acquire more resources than your opponents before the time runs out.
        </p>
        <p>
            <b>Deploy bot</b> will spawn a new bot at a starting position. The bot will automatically try to acquire a resource.
        </p>
        <p>
            <b>Turn bot</b> will turn your bot in a random direction before your bot starts moving towards a resource again.
        </p>

        <script src="src/canvas.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="/src/client.js"></script>
        <script>
            let c = new Client()
            c.run()


            const deployBot = document.getElementById('deployBot');
            deployBot.addEventListener('click', function (e) {
                c.message("button", {
                    "click":"deploy"
                })
            });

            const turnBot = document.getElementById('turnBot');
            turnBot.addEventListener('click', function (e) {
                c.message("button", {
                    "click":"turn"
                })
            });

            // The following is an example of how to use the client state listener to listen for game state updates
            function sl(obj) {
                console.log("game state received", obj);
            }

            c.stateListener(sl)
        </script>
    </body>
</html>